"use strict";(self.webpackChunkmidjourney_proxy_admin=self.webpackChunkmidjourney_proxy_admin||[]).push([[780],{15613:function(O,i){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"};i.Z=e},44685:function(O,i){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"};i.Z=e},5785:function(O,i,e){var E=e(1413),u=e(67294),R=e(44685),m=e(91146),Z=function(C,t){return u.createElement(m.Z,(0,E.Z)((0,E.Z)({},C),{},{ref:t,icon:R.Z}))},v=u.forwardRef(Z);i.Z=v},45326:function(O,i,e){e.r(i),e.d(i,{default:function(){return Q}});var E=e(15009),u=e.n(E),R=e(99289),m=e.n(R),Z=e(5574),v=e.n(Z),y=e(66927),C=e(1413),t=e(67294),U=e(15613),H=e(91146),w=function(P,j){return t.createElement(H.Z,(0,C.Z)((0,C.Z)({},P),{},{ref:j,icon:U.Z}))},K=t.forwardRef(w),W=K,N=e(5785),$=e(90930),G=e(94272),x=e(74656),M=e(2453),V=e(42075),D=e(28036),X=e(4393),T={logCard:"logCard___xHjXz",logContent:"logContent___WKg8b"},a=e(85893),g=x.Z.Option,J=function(){var P=(0,t.useState)(""),j=v()(P,2),k=j[0],q=j[1],_=(0,t.useState)(5),z=v()(_,2),I=z[0],ee=z[1],L=(0,t.useRef)(null),h=(0,t.useRef)(null),d=(0,G.useIntl)(),ne=(0,t.useState)(0),A=v()(ne,2),S=A[0],re=A[1],ae=function(){var o=m()(u()().mark(function s(){var l,c=arguments;return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return l=c.length>0&&c[0]!==void 0?c[0]:0,r.next=3,(0,y.lD)(1e3,l);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},s)}));return function(){return o.apply(this,arguments)}}();(0,t.useEffect)(function(){var o=function(){var l=m()(u()().mark(function c(){var f,r,F;return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,ae(S);case 2:f=p.sent,r=L.current||document.body,F=r.scrollHeight-r.scrollTop-r.clientHeight,q(f),F<50&&(r.scrollTop=r.scrollHeight-r.clientHeight);case 7:case"end":return p.stop()}},c)}));return function(){return l.apply(this,arguments)}}();if(o().then(function(){setTimeout(function(){var l=L.current||document.body;l.scrollTop=l.scrollHeight-l.clientHeight},100)}),h.current&&clearInterval(h.current),I>0){var s=setInterval(o,I*1e3);h.current=s}return function(){h.current&&(clearInterval(h.current),h.current=null)}},[I,S]);var le=function(s){ee(s)},te=function(s){re(s)},se=function(){L.current&&(document.fullscreenElement?document.exitFullscreen():L.current.requestFullscreen())},ue=(0,t.useState)(!1),b=v()(ue,2),oe=b[0],B=b[1],ce=function(){var o=m()(u()().mark(function s(){var l,c,f,r;return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,B(!0),n.next=4,(0,y.ju)(10);case 4:if(l=n.sent,!(l instanceof Blob)){n.next=20;break}if(l.type!=="text/plain"){n.next=12;break}return n.next=9,l.text();case 9:return c=n.sent,M.ZP.error(c||"\u4E0B\u8F7D\u5931\u8D25"),n.abrupt("return");case 12:f=window.URL.createObjectURL(l),r=document.createElement("a"),r.href=f,r.download="logs_".concat(new Date().toISOString().replace(/[:.]/g,"-"),".zip"),r.click(),window.URL.revokeObjectURL(f),n.next=21;break;case 20:M.ZP.error("\u4E0B\u8F7D\u9519\u8BEF");case 21:n.next=27;break;case 23:n.prev=23,n.t0=n.catch(0),console.error("Error downloading logs:",n.t0),M.ZP.error("\u4E0B\u8F7D\u65E5\u5FD7\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5\u3002");case 27:return n.prev=27,B(!1),n.finish(27);case 30:case"end":return n.stop()}},s,null,[[0,23,27,30]])}));return function(){return o.apply(this,arguments)}}();return(0,a.jsxs)($._z,{children:[(0,a.jsxs)(V.Z,{style:{marginBottom:"10px"},children:[(0,a.jsxs)(D.ZP,{type:"primary",onClick:se,children:[document.fullscreenElement?(0,a.jsx)(W,{}):(0,a.jsx)(N.Z,{}),document.fullscreenElement?d.formatMessage({id:"pages.probe.fullscreenExit"}):d.formatMessage({id:"pages.probe.fullscreen"})]}),(0,a.jsxs)(x.Z,{defaultValue:5,onChange:le,style:{width:150},children:[(0,a.jsxs)(g,{value:5,children:["5 ",d.formatMessage({id:"pages.seconds"})]}),(0,a.jsxs)(g,{value:10,children:["10 ",d.formatMessage({id:"pages.seconds"})]}),(0,a.jsxs)(g,{value:30,children:["30 ",d.formatMessage({id:"pages.seconds"})]}),(0,a.jsx)(g,{value:0,children:d.formatMessage({id:"pages.probe.stopRefresh"})})]}),(0,a.jsxs)(x.Z,{defaultValue:S,onChange:te,style:{width:150},children:[(0,a.jsx)(g,{value:0,children:" Info "}),(0,a.jsx)(g,{value:1,children:" Error "})]}),(0,a.jsx)(D.ZP,{loading:oe,type:"default",onClick:ce,children:d.formatMessage({id:"pages.probe.downloadLogs"})})]}),(0,a.jsx)(X.Z,{className:T.logCard,ref:L,children:(0,a.jsx)("div",{children:(0,a.jsx)("pre",{className:T.logContent,children:k})})})]})},Q=J}}]);
